function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yj9t:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthModule",(function(){return $}));var n=r("ofXK"),o=r("tyNb"),i=r("3Pt+"),a=r("fXoL"),s=r("7Bak");function c(e,t){if(1&e&&(a.Vb(0,"div",11),a.Dc(1),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.Fc(" ",r.formError," ")}}function d(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password is required. "),a.Ub())}function l(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password must be at least 10 characters long. "),a.Ub())}function u(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password strenght is low "),a.Ub())}function b(e,t){if(1&e&&(a.Vb(0,"div",12),a.Cc(1,d,2,0,"div",13),a.Cc(2,l,2,0,"div",13),a.Cc(3,u,2,0,"div",13),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.nc("ngIf",r.f.password.errors.required),a.Cb(1),a.nc("ngIf",r.f.password.errors.minlength),a.Cb(1),a.nc("ngIf",r.f.password.errors.pattern)}}var g,m=function(){return["/auth/register"]},f=((g=function(){function e(t,r,n){_classCallCheck(this,e),this.router=t,this.formBuilder=r,this.auth=n,this.loginForm=new i.f({username:new i.d("",[i.r.required,i.r.minLength(5)]),password:new i.d("",[i.r.required,i.r.minLength(10),i.r.pattern("^(?:(?:(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]))|(?:(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[a-z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))).{8,32}$")])}),this.formError="",this.credentials={_id:"",username:"",email:"",password:"",confirmPassword:"",exp:0,iat:0}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){console.log(e)}},{key:"onLoginSubmit",value:function(){this.submitted=!0,this.formError="",this.loginForm.get("username").value&&this.loginForm.get("password").value||(this.formError="All fields are required, please try again "),this.loginForm.invalid?this.formError="Form is not valid":(console.log(this.credentials),this.formError="All good",this.credentials.username=this.loginForm.get("username").value,this.credentials.password=this.loginForm.get("password").value,this.doLogin())}},{key:"doLogin",value:function(){var e=this;this.auth.login(this.credentials).then((function(){return e.router.navigateByUrl("/")})).catch((function(t){e.formError=t}))}},{key:"f",get:function(){return this.loginForm.controls}}]),e}()).\u0275fac=function(e){return new(e||g)(a.Pb(o.b),a.Pb(i.c),a.Pb(s.a))},g.\u0275cmp=a.Jb({type:g,selectors:[["app-login"]],decls:18,vars:6,consts:[[1,"login-form",3,"formGroup","ngSubmit"],["role","alert",4,"ngIf"],[1,"txtb"],["for","username"],["type","username","id","username","formControlName","username","required",""],["for","Password"],["type","password","id","password","formControlName","password","required",""],["class","alert alert-danger",4,"ngIf"],["type","submit","value","Login",1,"logbtn",3,"disabled"],[1,"bottom-text"],["routerLinkActive","router-link-active",3,"routerLink"],["role","alert"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.dc("ngSubmit",(function(){return t.onLoginSubmit()})),a.Vb(1,"h1"),a.Dc(2,"Login"),a.Ub(),a.Cc(3,c,2,1,"div",1),a.Vb(4,"div",2),a.Vb(5,"label",3),a.Dc(6,"Username"),a.Ub(),a.Qb(7,"input",4),a.Ub(),a.Vb(8,"div",2),a.Vb(9,"label",5),a.Dc(10,"Password"),a.Ub(),a.Qb(11,"input",6),a.Ub(),a.Cc(12,b,4,3,"div",7),a.Qb(13,"input",8),a.Vb(14,"div",9),a.Dc(15," Don't have account? "),a.Vb(16,"a",10),a.Dc(17,"Register"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.nc("formGroup",t.loginForm),a.Cb(3),a.nc("ngIf",t.formError),a.Cb(9),a.nc("ngIf",t.submitted&&t.f.password.errors),a.Cb(1),a.nc("disabled",!t.loginForm.valid),a.Cb(3),a.nc("routerLink",a.oc(5,m)))},directives:[i.s,i.m,i.g,n.l,i.b,i.l,i.e,i.q,o.e,o.d],styles:['.login-form[_ngcontent-%COMP%]{width:360px;background:rgba(0,0,0,.38);height:580px;padding:80px 40px;border-radius:10px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px}.txtb[_ngcontent-%COMP%]{border-bottom:2px solid #adadad;position:relative;margin:30px 0}.txtb[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;color:#ddd;border:none;width:100%;outline:none;background:none;padding:0 5px;height:40px}.txtb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;top:50%;left:5px;color:#adadad;transform:translateY(-50%);z-index:-1;transition:.5s}.txtb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:2px;background:linear-gradient(120deg,#3498db,#8e44ad);transition:.5s}.txtb[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]:before{top:-5px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]:after, .logbtn[_ngcontent-%COMP%]{width:100%}.logbtn[_ngcontent-%COMP%]{display:block;height:50px;border:none;background:linear-gradient(120deg,#3498db,#8e44ad,#3498db);background-size:200%;color:#fff;outline:none;cursor:pointer;transition:.5s}.logbtn[_ngcontent-%COMP%]:hover{background-position:100%}.bottom-text[_ngcontent-%COMP%]{margin-top:60px;text-align:center;font-size:13px}']}),g);function p(e,t){if(1&e&&(a.Vb(0,"div",16),a.Dc(1),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.Fc(" ",r.formError," ")}}function h(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Username is required. "),a.Ub())}function v(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Username must be at least 5 characters long. "),a.Ub())}function C(e,t){if(1&e&&(a.Vb(0,"div",17),a.Cc(1,h,2,0,"div",18),a.Cc(2,v,2,0,"div",18),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.nc("ngIf",r.f.username.errors.required),a.Cb(1),a.nc("ngIf",r.f.username.errors.minlength)}}function w(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Email is required "),a.Ub())}function P(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Email must be a valid email address "),a.Ub())}function _(e,t){if(1&e&&(a.Vb(0,"div",17),a.Cc(1,w,2,0,"div",18),a.Cc(2,P,2,0,"div",18),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.nc("ngIf",r.f.email.errors.required),a.Cb(1),a.nc("ngIf",r.f.email.errors.email)}}function x(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password is required. "),a.Ub())}function k(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password must be at least 10 characters long. "),a.Ub())}function M(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password strenght is low. "),a.Ub())}function U(e,t){if(1&e&&(a.Vb(0,"div",17),a.Cc(1,x,2,0,"div",18),a.Cc(2,k,2,0,"div",18),a.Cc(3,M,2,0,"div",18),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.nc("ngIf",r.f.password.errors.required),a.Cb(1),a.nc("ngIf",r.f.password.errors.minlength),a.Cb(1),a.nc("ngIf",r.f.password.errors.pattern)}}function O(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password is required. "),a.Ub())}function V(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password must be at least 10 characters long. "),a.Ub())}function y(e,t){1&e&&(a.Vb(0,"div"),a.Dc(1," Password strenght is low. "),a.Ub())}function D(e,t){if(1&e&&(a.Vb(0,"div",17),a.Cc(1,O,2,0,"div",18),a.Cc(2,V,2,0,"div",18),a.Cc(3,y,2,0,"div",18),a.Ub()),2&e){var r=a.hc();a.Cb(1),a.nc("ngIf",r.f.confirmPassword.errors.required),a.Cb(1),a.nc("ngIf",r.f.confirmPassword.errors.minlength),a.Cb(1),a.nc("ngIf",r.f.confirmPassword.errors.pattern)}}var I,F,q,A=function(){return["/auth/login"]},E=[{path:"",component:f},{path:"login",component:f},{path:"register",component:(I=function(){function e(t,r,n){_classCallCheck(this,e),this.router=t,this.formBuilder=r,this.auth=n,this.formError="",this.credentials={_id:"",username:"",email:"",password:"",confirmPassword:"",exp:0,iat:0},this.submitted=!1,this.strength={0:"Worst",1:"Bad",2:"Weak",3:"Good",4:"Strong"},this.meterValue=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.registerForm=new i.f({username:new i.d("",[i.r.required,i.r.minLength(5)]),email:new i.d("",[i.r.required,i.r.email]),password:new i.d("",[i.r.required,i.r.minLength(10),i.r.pattern("^(?:(?:(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]))|(?:(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[a-z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))).{8,32}$")]),confirmPassword:new i.d("",[i.r.required,i.r.minLength(10),i.r.pattern("^(?:(?:(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]))|(?:(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[A-Z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))|(?:(?=.*[0-9])(?=.*[a-z])(?=.*[*.!@$%^&(){}[]:;<>,.?/~_+-=|]))).{8,32}$")])}),this.passwordListener()}},{key:"passwordListener",value:function(){var e=this,t=document.getElementById("password-strength-text");this.f.password.valueChanges.subscribe((function(r){var n=r,o=e.passwordValidates(n);e.meterValue=o,t.innerHTML=""!==n?"Strength: "+e.strength[o]:""}))}},{key:"passwordValidates",value:function(e){var t=0;return 8<=e.length&&e.length<=32&&(e.match(".*\\d.*")&&t++,e.match(".*[a-z].*")&&t++,e.match(".*[A-Z].*")&&t++,e.match(".*[*.!@#$%^&(){}[]:\"; '<>,.?/~`_+-=|\\].*")&&t++),t}},{key:"onSubmit",value:function(e){console.log(e)}},{key:"onRegisterSubmit",value:function(){this.submitted=!0,this.formError="",this.registerForm.get("username").value&&this.registerForm.get("email").value&&this.registerForm.get("password").value&&this.registerForm.get("confirmPassword").value||(this.formError="All fields are required, please try again"),this.registerForm.invalid?this.formError="Form is invalid":this.registerForm.get("password").value!==this.registerForm.get("confirmPassword").value?this.formError="Password doesn't match":(this.formError="All good",this.credentials.username=this.registerForm.get("username").value,this.credentials.email=this.registerForm.get("email").value,this.credentials.password=this.registerForm.get("password").value,this.credentials.confirmPassword=this.registerForm.get("confirmPassword").value,this.doRegister())}},{key:"doRegister",value:function(){var e=this;this.auth.register(this.credentials).then((function(){return e.router.navigateByUrl("/")})).catch((function(t){return e.formError=t}))}},{key:"f",get:function(){return this.registerForm.controls}}]),e}(),I.\u0275fac=function(e){return new(e||I)(a.Pb(o.b),a.Pb(i.c),a.Pb(s.a))},I.\u0275cmp=a.Jb({type:I,selectors:[["app-register"]],decls:42,vars:10,consts:[[1,"login-form",3,"formGroup","ngSubmit"],["role","alert",4,"ngIf"],[1,"txtb"],["for","Username"],["type","text","id","username","name","username","formControlName","username","required",""],["class","alert alert-danger",4,"ngIf"],["for","Email"],["type","email","id","email","formControlName","email","required",""],["for","Password"],["type","password","id","password","formControlName","password","required",""],["max","4","id","password-strength-meter",3,"value"],["id","password-strength-text"],["type","password","id","confirmPassword","formControlName","confirmPassword","required",""],["type","submit","value","Register",1,"logbtn",3,"disabled"],[1,"bottom-text"],["routerLinkActive","router-link-active",3,"routerLink"],["role","alert"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.dc("ngSubmit",(function(){return t.onRegisterSubmit()})),a.Vb(1,"h1"),a.Dc(2,"Register"),a.Ub(),a.Cc(3,p,2,1,"div",1),a.Vb(4,"div",2),a.Vb(5,"label",3),a.Dc(6,"Username"),a.Ub(),a.Qb(7,"input",4),a.Cc(8,C,3,2,"div",5),a.Ub(),a.Vb(9,"div",2),a.Vb(10,"label",6),a.Dc(11,"Email"),a.Ub(),a.Qb(12,"input",7),a.Cc(13,_,3,2,"div",5),a.Ub(),a.Vb(14,"div",2),a.Vb(15,"label",8),a.Dc(16,"Password"),a.Ub(),a.Qb(17,"input",9),a.Cc(18,U,4,3,"div",5),a.Ub(),a.Vb(19,"div"),a.Vb(20,"div"),a.Dc(21,"At least one digit"),a.Ub(),a.Vb(22,"div"),a.Dc(23,"At least one lowercase character"),a.Ub(),a.Vb(24,"div"),a.Dc(25,"At least one uppercase character"),a.Ub(),a.Vb(26,"div"),a.Dc(27,"At least one special character"),a.Ub(),a.Vb(28,"div"),a.Dc(29,"At least 8 characters in length, but no more than 32"),a.Ub(),a.Qb(30,"meter",10),a.Qb(31,"p",11),a.Ub(),a.Vb(32,"div",2),a.Vb(33,"label",8),a.Dc(34,"Confirm Password"),a.Ub(),a.Qb(35,"input",12),a.Cc(36,D,4,3,"div",5),a.Ub(),a.Qb(37,"input",13),a.Vb(38,"div",14),a.Dc(39," Already have an account? "),a.Vb(40,"a",15),a.Dc(41,"Login"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.nc("formGroup",t.registerForm),a.Cb(3),a.nc("ngIf",t.formError),a.Cb(5),a.nc("ngIf",t.submitted&&t.f.username.errors),a.Cb(5),a.nc("ngIf",t.submitted&&t.f.email.errors),a.Cb(5),a.nc("ngIf",t.submitted&&t.f.password.errors),a.Cb(12),a.nc("value",t.meterValue),a.Cb(6),a.nc("ngIf",t.submitted&&t.f.confirmPassword.errors),a.Cb(1),a.nc("disabled",t.meterValue<3&&!t.registerForm.valid),a.Cb(3),a.nc("routerLink",a.oc(9,A)))},directives:[i.s,i.m,i.g,n.l,i.b,i.l,i.e,i.q,o.e,o.d],styles:['.login-form[_ngcontent-%COMP%]{width:50vh;color:var(--text);background:var(--bg-secondary);height:100vh;padding:80px 40px;border-radius:10px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px}.txtb[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);position:relative;margin:30px 0}.txtb[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;color:var(--text);border:none;width:100%;outline:none;background:none;padding:0 5px;height:40px}.txtb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;top:50%;left:5px;color:#adadad;transform:translateY(-50%);z-index:-1;transition:.5s}.txtb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:2px;background:linear-gradient(120deg,#3498db,#8e44ad);transition:.5s}.txtb[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]:before{top:-5px}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]:after, .logbtn[_ngcontent-%COMP%]{width:100%}.logbtn[_ngcontent-%COMP%]{display:block;height:50px;border:none;background:linear-gradient(120deg,#3498db,#8e44ad,#3498db);background-size:200%;color:var(--text);outline:none;cursor:pointer;transition:.5s}.logbtn[_ngcontent-%COMP%]:hover{background-position:100%}.bottom-text[_ngcontent-%COMP%]{margin-top:60px;text-align:center;font-size:13px}meter[_ngcontent-%COMP%]{margin:0 auto 1em;width:100%;height:.5em}meter[value="1"][_ngcontent-%COMP%]::-webkit-meter-optimum-value{background:red}meter[value="2"][_ngcontent-%COMP%]::-webkit-meter-optimum-value{background:#ff0}meter[value="3"][_ngcontent-%COMP%]::-webkit-meter-optimum-value{background:orange}meter[value="4"][_ngcontent-%COMP%]::-webkit-meter-optimum-value{background:green}meter[value="1"][_ngcontent-%COMP%]::-moz-meter-bar{background:red}meter[value="2"][_ngcontent-%COMP%]::-moz-meter-bar{background:#ff0}meter[value="3"][_ngcontent-%COMP%]::-moz-meter-bar{background:orange}meter[value="4"][_ngcontent-%COMP%]::-moz-meter-bar{background:green}']}),I)}],z=((F=function e(){_classCallCheck(this,e)}).\u0275mod=a.Nb({type:F}),F.\u0275inj=a.Mb({factory:function(e){return new(e||F)},imports:[[o.f.forChild(E)],o.f]}),F),L=r("vvyD"),$=((q=function e(){_classCallCheck(this,e)}).\u0275mod=a.Nb({type:q}),q.\u0275inj=a.Mb({factory:function(e){return new(e||q)},imports:[[n.c,z,L.a,i.h,i.p]]}),q)}}]);